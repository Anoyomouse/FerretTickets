# Ferret Tickets
#### A simple Python Flask Ticketing System written for University (Software Engineering & Agile)

----
## Getting started
This project contains PyPi requirements which can be found in `requirements.txt`
to install these requirements simply run:

```shell
pip install -r requirements.txt
```

Once complete, the app can be run with

```shell
python3.11 app.py
```

The default login credentials for Administrator (Superuser) are

Username: `Administrator`

Password: `PleaseChangeThisDefaultPassword`

----
## Invite Codes

To create an account on the system an invitation code is required, a code can be generated by a user with sufficient [permissions](#permissions)

When a new user registers they will be assigned the `default` UserGroup, please ensure you are happy with the default permissions in this group.

If unchanged in the [config](#config) three invite codes will be generated by the system when a new database is created

----
## Permissions
The system uses a UserGroup based permission system, by default, two UserGroups are created on the system, and they are as follows

#### `superuser` which has Permissions:
- `ADMIN`

#### `default` which has Permissions:
- `READ_TICKETS`
- `CREATE_TICKETS`
- `UPDATE_TICKETS`
- `RESOLVE_OWN_TICKETS`

The default group is assigned to all new users registering to the system.

The default permissions for these groups can be changed within `permissionsHandler/default_groups.json`

### Available Permissions
- `ADMIN` - If a group has this permission all permission checks are bypassed and the user is allowed to perform the action. **Warning: This is a dangerous permission to assign**

#### Tickets Permissions
- `READ_TICKETS` - View all tickets
- `CREATE_TICKETS` - Create new tickets
- `UPDATE_TICKETS` - Update/Change existing tickets
- `DELETE_TICKETS` - Delete existing tickets
- `RESOLVE_OWN_TICKETS` - Change the status of tickets created by the user
- `RESOLVE_OTHERS_TICKETS` - Change the status of all tickets

#### Invite Codes Permissions
- `READ_CODES` - View all Invite Codes
- `CREATE_CODES` - Create new Invite Codes
- `REVOKE_CODES` - Revoke existing Invite Codes

#### User Account Permissions
- `READ_USERS` - View all system user accounts
- `UPDATE_USERS` - Update/Change existing user accounts
- `DELETE_USERS` - Delete user accounts

#### UserGroup Permissions
- `READ_USERGROUPS` - View all system UserGroups
- `CREATE_USERGROUPS` - Create new UserGroups
- `UPDATE_USERGROUPS` - Update/Change existing UserGroups
- `DELETE_USERGROUPS` - Delete existing UserGroups

----
## Config

### [webserver]
Settings for the flask webserver, allows for control over the backend hosting
- `port` - The port the webserver will be hosted on (Default: `80`)
- `host_address` - The address the webserver will bind to (Default: `127.0.0.1`)
- `debug_mode` - Puts flask into debug mode, allowing for more detailed error readouts and traceback (Default: `true`)
- `use_reloader` - NOT RECCOMENDED - Uses flasks reloader during development to restart the webserver whenever a change is made to the source (Default: `false`)

### [logger]
Settings for the logger function, allows for configuration of level of logging and the name the system logger uses
- `logger_name` - The primary name the application will use for logging, modules will use the format `<logger_name>.<module_title>` (Default: `FerretTickets`)
- `logger_level` - The required level of log before the logger will output to console, Lower Value = More Verbose (Default: `1`)
  - `0` NOTSET All logs will be produced
  - `1` DEBUG all logs above and including DEBUG will be produced
  - `2` INFO all logs above and including INFO will be produced
  - `3` WARNING all logs above and including WARNING will be produced
  - `4` ERROR all logs above and including ERROR will be produced
  - `5` CRITICAL all logs above and including CRITICAL will be produced

### [database]
Settings for the database, allows for configuration of database storage path
- `path` - Defines where SQLite3 database file will be stored, if set to `default` the app will use `<Current Working Directory>/database/` (Default: `default`)

### [superuser]
Settings for the superuser, or default user when the system is initially created, allows for changing of default username/password
- `username` - Username for the default administrator on the system (Default: `Administrator`)
- `password` - Password for the default administrator on the system (Default: `PleaseChangeThisDefaultPassword`)

### [demo_mode]
Settings for demo mode, if enabled the system will generate fake data so that the system functionality can be demonstrated
- `create_demo_data` - If set to true, dummy data will be placed into the database when created to demonstrate system use (Default: `true`)

### [invite_codes]
Settings for invite codes, allows for configuration on how many are created when system is setup and custom prefix for codes
- `initial_creation` - How many invite codes to generate when the database is first created (Default `3`)
- `code_prefix` - A prefix added to invite codes when created (Default: `FerretTickets`)

----
### Credits and Thank You's
#### Credits to:
- The Flask Team - Flask - [Flask Website](https://flask.palletsprojects.com/en/3.0.x/)
- The Django Team - Django - [Django Website](https://www.djangoproject.com/)
- Jeff Ferland - IPy - [IPy PyPi](https://pypi.org/project/IPy/)
- WTForms Team - WTForms - [WTForms Github](https://github.com/wtforms/wtforms)
- PyPika Team - PyPika - [PyPika Github](https://github.com/kayak/pypika)
- Stavros Korokithakis - shortuuid - [shortuuid PyPi](https://pypi.org/project/shortuuid/)
